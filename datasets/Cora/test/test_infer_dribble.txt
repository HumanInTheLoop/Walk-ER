% Running on host: hawk

% Switching to VarIndicator = uppercase.

% Unset'ing VarIndicator.

% Calling ILPouterLoop from createRegressionOuterLooper.

% getInputArgWithDefaultValue: args=[datasets/Cora/test/test_pos.txt, datasets/Cora/test/test_neg.txt, datasets/Cora/test/test_bk.txt, datasets/Cora/test/test_facts.txt]
%  for N=0: args[N]=datasets/Cora/test/test_pos.txt

% getInputArgWithDefaultValue: args=[datasets/Cora/test/test_pos.txt, datasets/Cora/test/test_neg.txt, datasets/Cora/test/test_bk.txt, datasets/Cora/test/test_facts.txt]
%  for N=1: args[N]=datasets/Cora/test/test_neg.txt

% getInputArgWithDefaultValue: args=[datasets/Cora/test/test_pos.txt, datasets/Cora/test/test_neg.txt, datasets/Cora/test/test_bk.txt, datasets/Cora/test/test_facts.txt]
%  for N=2: args[N]=datasets/Cora/test/test_bk.txt

% getInputArgWithDefaultValue: args=[datasets/Cora/test/test_pos.txt, datasets/Cora/test/test_neg.txt, datasets/Cora/test/test_bk.txt, datasets/Cora/test/test_facts.txt]
%  for N=3: args[N]=datasets/Cora/test/test_facts.txt

% Welcome to the WILL ILP/SRL systems.


% Switching to VarIndicator = uppercase.

% Unset'ing VarIndicator.
% Reading background theory from dir: null
% Load '../cora_bk.txt'.

% Switching to VarIndicator = uppercase.

***** Warning: % Since this is the first setting of the notation for variables, will keep:
%   variableIndicator = uppercase *****


***** Warning: % Since this is the first setting of the notation for variables, will keep:
%   variableIndicator = uppercase *****

% [ LazyGroundClauseIndex ]  Building full index for mode/1 with 1 assertions.
% LoadAllModes() called.  Currently loaded modes: []
% [ LazyGroundClauseIndex ]  Building full index for sameAs/2 with 2 assertions.
% [ LazyGroundNthArgumentClauseIndex ]  Argument 1:  Building full index for exp/3.
% [ LazyGroundNthArgumentClauseIndex ]  Argument 0:  Building full index for log/3.
% LoadAllLibraries() called.  Currently loaded libraries: [listsInLogic, differentInLogic, modes_arithmeticInLogic, inlines_comparisonInLogic, modes_listsInLogic, inlines_differentInLogic, modes_differentInLogic, arithmeticInLogic, inlines_listsInLogic, modes_comparisonInLogic, comparisonInLogic, inlines_arithmeticInLogic]

%  Read the facts.
%  Have read 6,541 facts.
% Have read 35,007 examples from 'datasets/Cora/test' [datasets/Cora/test/test*].
% Have read 27,708 examples from 'datasets/Cora/test' [datasets/Cora/test/test*].

%  LearnOneClause initialized.

% The outer looper has been created.

% Initializing the ILP inner looper.

% NEW target:                 sameauthor(D, E)
%  targetPred:                sameauthor/2
%  targetArgTypes:            signature = [const, const], types = [+authid, +authid]
%  targets:                   [sameauthor(D, E)]
%  targetPredicates:          [sameauthor/2, samebib/2, sametitle/2, samevenue/2]
%  targetArgSpecs:            [[D[+authid], E[+authid]]]
%  variablesInTargets:        [[D, E]]

% NEW target:                 samebib(F, G)
%  targetPred:                samebib/2
%  targetArgTypes:            signature = [const, const], types = [+paperid, +paperid]
%  targets:                   [sameauthor(D, E), samebib(F, G)]
%  targetPredicates:          [sameauthor/2, samebib/2, sametitle/2, samevenue/2]
%  targetArgSpecs:            [[D[+authid], E[+authid]], [F[+paperid], G[+paperid]]]
%  variablesInTargets:        [[D, E], [F, G]]

% NEW target:                 sametitle(H, I)
%  targetPred:                sametitle/2
%  targetArgTypes:            signature = [const, const], types = [+titleid, +titleid]
%  targets:                   [sameauthor(D, E), samebib(F, G), sametitle(H, I)]
%  targetPredicates:          [sameauthor/2, samebib/2, sametitle/2, samevenue/2]
%  targetArgSpecs:            [[D[+authid], E[+authid]], [F[+paperid], G[+paperid]], [H[+titleid], I[+titleid]]]
%  variablesInTargets:        [[D, E], [F, G], [H, I]]

% NEW target:                 samevenue(J, K)
%  targetPred:                samevenue/2
%  targetArgTypes:            signature = [const, const], types = [+venueid, +venueid]
%  targets:                   [sameauthor(D, E), samebib(F, G), sametitle(H, I), samevenue(J, K)]
%  targetPredicates:          [sameauthor/2, samebib/2, sametitle/2, samevenue/2]
%  targetArgSpecs:            [[D[+authid], E[+authid]], [F[+paperid], G[+paperid]], [H[+titleid], I[+titleid]], [J[+venueid], K[+venueid]]]
%  variablesInTargets:        [[D, E], [F, G], [H, I], [J, K]]

% Started collecting constants

% Collecting the types of constants.

% Looking at the training examples to see if any types of new constants can be inferred.
% Time to collect constants: 122 milliseconds
% Time to collect examples: 0 seconds

% Read 35,007 pos examples and 27,708 neg examples.
% Time to init learnOneClause: 151 milliseconds
% Old dirdatasets/Cora/train/models/

% Have 35,007 'raw' positive examples and kept 488.
% Have 27,708 'raw' negative examples and kept 66.

% processing backup's for sameauthor
%  POS EX = 488
%  NEG EX = 66

% Memory usage by WILLSetup (just counts # targets?):
%  |backupPosExamples| = 1
%  |backupNegExamples| = 1
%  |predicatesAsFacts| = 0
%  |addedToFactBase|   = 0

% Getting bRDN's target predicates.
% Did not learn a model for 'sameauthor' this run.
%   loadModel (#0): datasets/Cora/train/models/bRDNs/Trees/sameauthorTree0.tree
%   loadModel (#1): datasets/Cora/train/models/bRDNs/Trees/sameauthorTree1.tree
%   loadModel (#2): datasets/Cora/train/models/bRDNs/Trees/sameauthorTree2.tree
%  Done loading 3 models.
File: datasets/Cora/test/advice.txt doesnt exist.Hence no advice loaded

% for sameauthor |lookupPos| = 488
% for sameauthor |lookupNeg| = 66
% getJointExamples: |pos| = 488, |neg| = 66

% Starting inference in bRDN.
% Trees = 3

% Starting getMarginalProbabilities.
% [ LazyGroundNthArgumentClauseIndex ]  Argument 0:  Building full index for haswordauthor/2.
% [ LazyGroundClauseIndex ]  Building full index for haswordauthor/2 with 203 assertions.
% [ LazyGroundNthArgumentClauseIndex ]  Argument 1:  Building full index for haswordtitle/2.
% [ LazyGroundNthArgumentClauseIndex ]  Argument 1:  Building full index for haswordvenue/2.
% [ LazyGroundClauseIndex ]  Building full index for sametitle/2 with 661 assertions.
% [ LazyGroundNthArgumentClauseIndex ]  Argument 1:  Building full index for author/2.
% [ LazyGroundClauseIndex ]  Building full index for title/2 with 1,295 assertions.
% [ LazyGroundClauseIndex ]  Building full index for venue/2 with 1,295 assertions.
% No Gibbs sampling needed during inference.
 (Arithmetic) Mean Probability Assigned to Correct Output Class: 303.889/554.00 = 0.548537

 The weighted count of positive examples = 488.000 and the weighted count of negative examples = 66.000

printExamples: Writing out predictions (for Tuffy?) on 554 examples for 'sameauthor' to:
  datasets/Cora/test/results_sameauthor.db
 and to:
  datasets/Cora/test/query_sameauthor.db
%    No need to compress since small: datasets/Cora/test/query_sameauthor.db

% Computing Area Under Curves.
%Pos=488
%Neg=66
%LL:-304.5862233559604
%LL:-337.49945600974837

% Running command: java -jar ./auc.jar datasets/Cora/test/AUC/aucTemp.txt list 0.0
% WAITING FOR command: java -jar ./auc.jar datasets/Cora/test/AUC/aucTemp.txt list 0.0
% DONE WAITING FOR command: java -jar ./auc.jar datasets/Cora/test/AUC/aucTemp.txt list 0.0
% F1 = 1.0
% Threshold = 0.5105435786554164

%   AUC ROC   = 0.842182
%   AUC PR    = 0.974290
%   CLL	      = -0.609205
%   Precision = 0.935622 at threshold = 0.500
%   Recall    = 0.893443
%   F1        = 0.914046

% Total inference time (3 trees): 1.678 seconds.
